---
// Component Imports
import BaseLayout from '../layouts/BaseLayout.astro';

const category = 'technology'
const title = `News in ${category}` 
const response = await fetch(`https://api.nytimes.com/svc/topstories/v2/${category}.json?api-key=${import.meta.env.PUBLIC_NYT_API_KEY}`);
const data = await response.json()

---
	
<BaseLayout title={title}>
		<h1>This is the News!</h1>
        <!-- {JSON.stringify(data)} -->
        <ul>
            {data.results.map((article) => (
                <li><a href={ article.url }>{ article.title }</a></li>
            ))}
        </ul>
</BaseLayout>